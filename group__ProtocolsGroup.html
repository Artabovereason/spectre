<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.8.13"/>
    <style>
        /*!
         * IE10 viewport hack for Surface/desktop Windows 8 bug
         * Copyright 2014-2015 Twitter, Inc.
         * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
         */
        @-webkit-viewport { width: device-width; }
        @-moz-viewport    { width: device-width; }
        @-ms-viewport     { width: device-width; }
        @-o-viewport      { width: device-width; }
        @viewport         { width: device-width; }
      </style>
  <title>SpECTRE: Protocols</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="./MathJax.js"></script>
  <link href="octicons.css" rel="stylesheet">
  <link href="bootstrap.min.css" rel="stylesheet">
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="popper.min.js"></script>
  <script type="text/javascript" src="bootstrap.min.js"></script>
  <script type="text/javascript" src="spectre.js"></script>
  </head>
  <body>
  <div id="top" class="navbar-fixed-top"><!-- do not remove this div, it is closed by doxygen! -->
  <!-- BEGIN TITLEAREA -->
  <div id="titlearea">
  <script type="text/javascript">
  var searchBox = new SearchBox("searchBox", "search",false,'Search');
  </script>
  <div id="main-nav">
    <ul class="sm sm-dox" id="main-menu">
      <li>
      <a href="index.html">
      SpECTRE &#160;
        <span id="projectnumber">v0.0.0</span>
      </a>
      </li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="selected">
          <span id="selected">
            <i class="octicon octicon-book"></i><span>Documentation</span>
          </span>
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li style="min-width: 135px;">
            <a href="index.html">
            <i class="octicon octicon-book"></i><span>Introduction</span></a>
          </li>
          <li style="min-width: 135px;">
            <a href="installation.html">
              <i class="octicon octicon-desktop-download"></i><span>Installation</span>
            </a>
          </li>
          <li style="min-width: 135px;">
            <a href="tutorials.html">
              <i class="octicon octicon-mortar-board"></i><span>User Tutorials</span>
            </a>
          </li>
          <li style="min-width: 135px;">
            <a href="dev_guide.html">
              <i class="octicon octicon-gist-secret"></i><span>Dev Guide</span>
            </a>
          </li>
          <li style="min-width: 135px;">
            <a href="code_of_conduct.html">
              <i class="octicon octicon-comment-discussion"></i><span>Code of Conduct</span>
            </a>
          </li>
          <li style="min-width: 135px;">
            <a href="contributing_to_spectre.html">
              <i class="octicon octicon-git-pull-request"></i><span>Contributing Guide</span>
            </a>
          </li>
        </ul>
      </li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown" href="#" id="selected">
          <span id="selected">
            <i class="octicon octicon-code"></i>
              <span>Code Reference</span>
          </span>
          <span class="caret"></span>
        </a>
        <ul class="dropdown-menu">
          <li style="min-width: 130px;">
            <a href="modules.html">
              <i class="octicon octicon-code"></i>
              <span>Topics</span>
            </a>
          </li>
          <li style="min-width: 130px;">
            <a href="namespaces.html">
              <i class="octicon octicon-gist"></i>
              <span>Namespaces</span>
            </a>
          </li>
        </ul>
      </li>
      <li>
        <a href="files.html">
          <i class="octicon octicon-file-directory"></i><span>Files</span>
        </a>
      </li>
      <li>
        <a href="citelist.html">
          <i class="octicon octicon-file-text"></i><span>Bibliography</span>
        </a>
      </li>
      <li>
        <a href="https://github.com/sxs-collaboration/spectre" target="_blank">
          <i class="octicon octicon-mark-github"></i><span>View on GitHub</span>
        </a>
      </li>
      <!--The Search <li> is added by doxygen later-->
    </ul>
  </div><!-- main-nav -->
  </div><!-- titlearea -->
  <!-- window showing the filter options -->
  <div id="MSearchSelectWindow"  style="position: fixed;"
       onmouseover="return searchBox.OnSearchSelectShow()"
       onmouseout="return searchBox.OnSearchSelectHide()"
       onkeydown="return searchBox.OnSearchSelectKey(event)">
  </div>
  <!-- iframe showing the search results (closed by default) -->
  <div id="MSearchResultsWindow"  style="position: fixed;">
  <iframe src="javascript:void(0)" frameborder="0"
          name="MSearchResults" id="MSearchResults">
  </iframe>
  </div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Protocols</div>  </div>
</div><!--header-->
<div class="contents">

<p>Classes that define metaprogramming interfaces.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtt_1_1ConformsTo.html">tt::ConformsTo&lt; Protocol &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate a class conforms to the <code>Protocol</code>.  <a href="structtt_1_1ConformsTo.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gadd68115ebb64d09283d703623695a04e"><td class="memTemplParams" colspan="2">template&lt;typename ConformingType &gt; </td></tr>
<tr class="memitem:gadd68115ebb64d09283d703623695a04e"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ProtocolsGroup.html#gadd68115ebb64d09283d703623695a04e">dg::protocols::NumericalFlux</a> = <a class="elRef" doxygen="/__w/spectre/spectre/docs/config/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/types/conditional.html">std::conditional_t</a>&lt; <a class="el" href="group__UtilitiesGroup.html#gab78389fadf763e3693ce893fad5d7fba">tmpl2::flat_all_v</a>&lt; detail::has_variables_tags_v&lt; ConformingType &gt;, detail::has_argument_tags_v&lt; ConformingType &gt;, detail::has_package_field_tags_v&lt; ConformingType &gt;, detail::has_package_extra_tags_v&lt; ConformingType &gt; &gt;, detail::IsNumericalFluxCallable&lt; ConformingType &gt;, <a class="elRef" doxygen="/__w/spectre/spectre/docs/config/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/types/integral_constant.html">std::false_type</a> &gt;</td></tr>
<tr class="memdesc:gadd68115ebb64d09283d703623695a04e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the interface for DG numerical fluxes.  <a href="group__ProtocolsGroup.html#gadd68115ebb64d09283d703623695a04e">More...</a><br /></td></tr>
<tr class="separator:gadd68115ebb64d09283d703623695a04e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga69cadf7e1af796b7b303137ffde2f8ad"><td class="memTemplParams" colspan="2">template&lt;typename ConformingType , template&lt; class &gt; class Protocol&gt; </td></tr>
<tr class="memitem:ga69cadf7e1af796b7b303137ffde2f8ad"><td class="memTemplItemLeft" align="right" valign="top">using&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ProtocolsGroup.html#ga69cadf7e1af796b7b303137ffde2f8ad">tt::conforms_to</a> = typename <a class="elRef" doxygen="/__w/spectre/spectre/docs/config/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/types/is_convertible.html">std::is_convertible</a>&lt; ConformingType *, <a class="el" href="structtt_1_1ConformsTo.html">ConformsTo</a>&lt; Protocol &gt; * &gt;</td></tr>
<tr class="memdesc:ga69cadf7e1af796b7b303137ffde2f8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the <code>ConformingType</code> conforms to the <code>Protocol</code>.  <a href="group__ProtocolsGroup.html#ga69cadf7e1af796b7b303137ffde2f8ad">More...</a><br /></td></tr>
<tr class="separator:ga69cadf7e1af796b7b303137ffde2f8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4660233574869d3b757e06ecf3ec83ca"><td class="memTemplParams" colspan="2">template&lt;typename ConformingType , template&lt; class &gt; class Protocol&gt; </td></tr>
<tr class="memitem:ga4660233574869d3b757e06ecf3ec83ca"><td class="memTemplItemLeft" align="right" valign="top">constexpr bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group__ProtocolsGroup.html#ga4660233574869d3b757e06ecf3ec83ca">tt::conforms_to_v</a></td></tr>
<tr class="memdesc:ga4660233574869d3b757e06ecf3ec83ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the <code>ConformingType</code> conforms to the <code>Protocol</code>.  <a href="group__ProtocolsGroup.html#ga4660233574869d3b757e06ecf3ec83ca">More...</a><br /></td></tr>
<tr class="separator:ga4660233574869d3b757e06ecf3ec83ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Classes that define metaprogramming interfaces. </p>
<p>See the <a class="el" href="protocols.html">Protocols</a> section of the dev guide for details. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga69cadf7e1af796b7b303137ffde2f8ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga69cadf7e1af796b7b303137ffde2f8ad">&#9670;&nbsp;</a></span>conforms_to</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConformingType , template&lt; class &gt; class Protocol&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group__ProtocolsGroup.html#ga69cadf7e1af796b7b303137ffde2f8ad">tt::conforms_to</a> = typedef typename <a class="elRef" doxygen="/__w/spectre/spectre/docs/config/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/types/is_convertible.html">std::is_convertible</a>&lt;ConformingType*, <a class="el" href="structtt_1_1ConformsTo.html">ConformsTo</a>&lt;Protocol&gt;*&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the <code>ConformingType</code> conforms to the <code>Protocol</code>. </p>
<p>By default, only checks if the class derives off the protocol to reduce compile time. Protocol conformance is tested rigorously in the unit tests instead. Set the <code>SPECTRE_ALWAYS_CHECK_PROTOCOL_CONFORMANCE</code> CMake option to always enable rigorous protocol conformance checks.</p>
<dl class="section see"><dt>See also</dt><dd>Documentation on <a class="el" href="protocols.html">Protocols</a> </dd></dl>

</div>
</div>
<a id="gadd68115ebb64d09283d703623695a04e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadd68115ebb64d09283d703623695a04e">&#9670;&nbsp;</a></span>NumericalFlux</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConformingType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="group__ProtocolsGroup.html#gadd68115ebb64d09283d703623695a04e">dg::protocols::NumericalFlux</a> = typedef <a class="elRef" doxygen="/__w/spectre/spectre/docs/config/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/types/conditional.html">std::conditional_t</a>&lt; <a class="el" href="group__UtilitiesGroup.html#gab78389fadf763e3693ce893fad5d7fba">tmpl2::flat_all_v</a>&lt;detail::has_variables_tags_v&lt;ConformingType&gt;, detail::has_argument_tags_v&lt;ConformingType&gt;, detail::has_package_field_tags_v&lt;ConformingType&gt;, detail::has_package_extra_tags_v&lt;ConformingType&gt; &gt;, detail::IsNumericalFluxCallable&lt;ConformingType&gt;, <a class="elRef" doxygen="/__w/spectre/spectre/docs/config/cppreference-doxygen-web.tag.xml:http://en.cppreference.com/w/" href="http://en.cppreference.com/w/cpp/types/integral_constant.html">std::false_type</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the interface for DG numerical fluxes. </p>
<p>This protocol defines the interface that a class must conform to so that it can be used as a numerical flux in DG boundary schemes. Essentially, the class must be able to compute the quantity \(G\) that appears, for example, in the strong first-order DG boundary scheme \(G_\alpha(n_i^\mathrm{int}, u_\alpha^\mathrm{int}, n_i^\mathrm{ext}, u_\alpha^\mathrm{ext}) - n_i^\mathrm{int} F^{i,\mathrm{int}}_\alpha\) where \(u_\alpha\) are the system variables and \(F^i_\alpha\) their corresponding fluxes. See also Eq. (2.20) in <a class="el" href="citelist.html#CITEREF_Teukolsky2015ega">[59]</a> where the quantity \(G\) is denoted \(n_i F^{i*}\), which is why we occasionally refer to it as the "normal-dot-numerical-fluxes".</p>
<p>Requires the <code>ConformingType</code> has these type aliases:</p><ul>
<li><code>variables_tags</code>: A typelist of DataBox tags that the class computes numerical fluxes for.</li>
<li><code>argument_tags</code>: A typelist of DataBox tags that will be retrieved on interfaces and passed to the <code>package_data</code> function (see below). The <code>ConformingType</code> may also have a <code>volume_tags</code> typelist that specifies the subset of <code>argument_tags</code> that should be retrieved from the volume instead of the interface.</li>
<li><code>package_field_tags</code>: A typelist of DataBox tags with <code>Tensor</code> types that the <code>package_data</code> function will compute from the <code>argument_tags</code>. These quantities will be made available on both sides of a mortar and passed to the call operator to compute the numerical flux.</li>
<li><code>package_extra_tags</code>: Additional non-tensor tags that will be made available on both sides of a mortar, e.g. geometric quantities.</li>
</ul>
<p>Requires the <code>ConformingType</code> has these member functions:</p><ul>
<li><code>package_data</code>: Takes the types of the <code>package_field_tags</code> and the <code>package_extra_tags</code> by <code><a class="el" href="classgsl_1_1not__null.html" title="Require a pointer to not be a nullptr ">gsl::not_null</a></code> pointer, followed by the types of the <code>argument_tags</code>.</li>
<li><code>operator()</code>: Takes the types of the <code>variables_tags</code> by <code><a class="el" href="classgsl_1_1not__null.html" title="Require a pointer to not be a nullptr ">gsl::not_null</a></code> pointer, followed by the types of the <code>package_field_tags</code> and the <code>package_extra_tags</code> from the interior side of the mortar and from the exterior side. Note that the data from the exterior side was computed entirely with data from the neighboring element, including its interface normal which is (at least when it's independent of the system variables) opposite to the interior element's interface normal. Therefore, make sure to take into account the sign flip for quantities that include the interface normal.</li>
</ul>
<p>Here's an example for a simple "central" numerical flux \(G_\alpha(n_i^\mathrm{int}, u_\alpha^\mathrm{int}, n_i^\mathrm{ext}, u_\alpha^\mathrm{ext}) = \frac{1}{2}\left(n_i^\mathrm{int} F^{i,\mathrm{int}}_\alpha - n_i^\mathrm{ext} F^{i,\mathrm{ext}}_\alpha \right)\):</p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>CentralFlux : <a class="code" href="structtt_1_1ConformsTo.html">tt::ConformsTo</a>&lt;dg::protocols::NumericalFlux&gt; {</div><div class="line">  <span class="keyword">using</span> variables_tags = tmpl::list&lt;FieldTag&gt;;</div><div class="line">  <span class="keyword">using</span> argument_tags = tmpl::list&lt;::Tags::NormalDotFlux&lt;FieldTag&gt;&gt;;</div><div class="line">  <span class="keyword">using</span> package_field_tags = tmpl::list&lt;::Tags::NormalDotFlux&lt;FieldTag&gt;&gt;;</div><div class="line">  <span class="keyword">using</span> package_extra_tags = tmpl::list&lt;&gt;;</div><div class="line">  <span class="keywordtype">void</span> package_data(</div><div class="line">      <span class="keyword">const</span> <a class="code" href="classgsl_1_1not__null.html">gsl::not_null</a>&lt;<a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>*&gt; packaged_normal_dot_flux,</div><div class="line">      <span class="keyword">const</span> <a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>&amp; normal_dot_flux) <span class="keyword">const</span> noexcept {</div><div class="line">    *packaged_normal_dot_flux = normal_dot_flux;</div><div class="line">  }</div><div class="line">  <span class="keywordtype">void</span> operator()(<span class="keyword">const</span> <a class="code" href="classgsl_1_1not__null.html">gsl::not_null</a>&lt;<a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>*&gt; numerical_flux,</div><div class="line">                  <span class="keyword">const</span> <a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>&amp; normal_dot_flux_interior,</div><div class="line">                  <span class="keyword">const</span> <a class="code" href="group__TensorGroup.html#ga06ebcb38a1f13c246e53378b9e8959ce">Scalar&lt;DataVector&gt;</a>&amp; normal_dot_flux_exterior) <span class="keyword">const</span></div><div class="line">      noexcept {</div><div class="line">    <span class="comment">// The minus sign appears because the `normal_dot_flux_exterior` was</span></div><div class="line">    <span class="comment">// computed with the interface normal from the neighboring element</span></div><div class="line">    <span class="keyword">get</span>(*numerical_flux) =</div><div class="line">        0.5 * (<span class="keyword">get</span>(normal_dot_flux_interior) - <span class="keyword">get</span>(normal_dot_flux_exterior));</div><div class="line">  }</div><div class="line">};</div></div><!-- fragment --><p> Note that this numerical flux reduces to the interface average \(G_\alpha=\frac{n^\mathrm{int}_i}{2}\left(F^{i,\mathrm{int}}_\alpha + F^{i,\mathrm{ext}}_\alpha\right)\) for the case where the interface normal is independent of the system variables and therefore \(n_i^\mathrm{ext} = -n_i^\mathrm{int}\). </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga4660233574869d3b757e06ecf3ec83ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4660233574869d3b757e06ecf3ec83ca">&#9670;&nbsp;</a></span>conforms_to_v</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ConformingType , template&lt; class &gt; class Protocol&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">constexpr bool tt::conforms_to_v</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">    std::is_convertible_v&lt;ConformingType*, ConformsTo&lt;Protocol&gt;*&gt;</div></div><!-- fragment -->
<p>Checks if the <code>ConformingType</code> conforms to the <code>Protocol</code>. </p>
<p>By default, only checks if the class derives off the protocol to reduce compile time. Protocol conformance is tested rigorously in the unit tests instead. Set the <code>SPECTRE_ALWAYS_CHECK_PROTOCOL_CONFORMANCE</code> CMake option to always enable rigorous protocol conformance checks.</p>
<dl class="section see"><dt>See also</dt><dd>Documentation on <a class="el" href="protocols.html">Protocols</a> </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
&copy; Copyright 2017 - 2020
<a href="https://black-holes.org">SXS Collaboration</a>,
<a href="LICENSE.txt" target="_blank">
<span class="hidden-xs">Distributed under the</span>
MIT License</a>
</small></address>
</body>
</html>
